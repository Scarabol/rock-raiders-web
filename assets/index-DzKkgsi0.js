const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./app-5q4nVwHL.js","./three-BSCkEZdV.js","./app-BE-9P2O9.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const x="modulepreload",C=function(t,e){return new URL(t,e).href},y={},E=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let p=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),m=o?.nonce||o?.getAttribute("nonce");s=p(n.map(l=>{if(l=C(l,r),l in y)return;y[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(r)for(let h=a.length-1;h>=0;h--){const g=a[h];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":x,u||(f.as="script"),f.crossOrigin="",f.href=l,m&&f.setAttribute("nonce",m),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};Array.prototype.add=function(...t){t?.forEach(e=>{this.indexOf(e)===-1&&this.push(e)})};Array.prototype.remove=function(t){const e=this.indexOf(t);e!==-1&&this.splice(e,1)};Array.prototype.removeLast=function(t){const e=this.indexOf(t);e!==-1&&this.splice(e,1)};Array.prototype.removeAll=function(t){let e=-1;for(;(e=this.findIndex(t))>=0;)this.splice(e,1)};Array.prototype.last=function(){return this[this.length>1?this.length-1:0]};Array.prototype.count=function(t){let e=0;return this.forEach(n=>t(n)&&e++),e};Array.prototype.partition=function(t){const e=[],n=[];return this.forEach(r=>t(r)?e.push(r):n.push(r)),[e,n]};Array.ensure=function(t){return t?Array.isArray(t)?t:[t]:[]};Map.prototype.getOrUpdate=function(t,e){let n=this.get(t);return n===void 0&&(n=e(),this.set(t,n)),n};Map.prototype.upsert=function(t,e){const n=e(this.get(t));return this.set(t,n),n};String.prototype.equalsIgnoreCase=function(t){return this.toLowerCase()===t?.toLowerCase()};const I=document.getElementById("game-container"),S=document.getElementById("game-canvas-container");function A(t){if(!t)return t;let e=t.toString().replace(/\\/g,"/");e.startsWith("/")&&(e=e.slice(1));const n=e.lastIndexOf("/");return e=e.slice(0,n+1),e.startsWith("/")&&(e=e.slice(1)),e}function w(t){if(!t)return t;let e=t.toString().replace(/\\/g,"/");e.startsWith("/")&&(e=e.slice(1));const n=e.lastIndexOf("/");return e.slice(n+1)}function L(t,...e){return e.forEach(n=>{t=Object.keys(t).filter(r=>r.toLowerCase()===n.toLowerCase()).map(r=>t[r]),t=t&&t[0]}),t}function T(t){t&&clearTimeout(t)}function v(t){t&&clearInterval(t)}function M(t){t&&cancelAnimationFrame(t)}function N(){return new Promise(t=>setTimeout(t))}function O(t){return t!=null&&!isNaN(t)}class c{static element=I.querySelector("div.game-debug-layer");static messageContainer=this.element.querySelector("div.game-debug-message-container");static maxNumFpsValues=150;static nativeLog=console.log;static nativeWarn=console.warn;static nativeError=console.error;fpsContext;fpsValues=[];useValues=[];renderStartTimestampMs=0;renderEndTimestampMs=0;fpsIndex=0;fps=0;usage=0;renderInterval;animationFrame;constructor(){const e=c.element.querySelector("canvas.game-debug-fps-canvas")?.getContext("2d");if(!e)throw new Error("Could not get context for fps rendering");this.fpsContext=e}static intersectConsoleLogging(){console.log=(e,...n)=>{this.nativeLog(e,...n),this.addDebugMessage(e,n,"#ffffff")},console.warn=(e,...n)=>{this.nativeWarn(e,...n),this.addDebugMessage(e,n,"#ffff00")},console.error=(e,...n)=>{this.nativeError(e,...n),this.addDebugMessage(e,n,"#ff0000")}}static addDebugMessage(e,n,r){try{c.messageContainer.children.length>100&&c.messageContainer.lastChild&&c.messageContainer.removeChild(c.messageContainer.lastChild);const s=c.messageContainer.insertBefore(document.createElement("div"),c.messageContainer.firstChild);s.innerText=e,n.forEach(i=>s.innerText+=`
${JSON.stringify(i)}`),s.style.padding="0.1em",s.style.color=r,s.style.userSelect="none"}catch(s){this.nativeError(s)}}static toggleDisplay(){this.element&&(this.element.style.display=this.element.style.display==="none"?"block":"none")}show(){this.renderInterval=v(this.renderInterval),this.renderInterval=setInterval(()=>{this.animationFrame=M(this.animationFrame),this.animationFrame=requestAnimationFrame(()=>{this.fpsContext.clearRect(0,0,300,150),this.drawFpsDiagram(0,0,300,150)})},1e3/60)}hide(){this.renderInterval=v(this.renderInterval),this.fpsContext.clearRect(0,0,300,150)}drawFpsDiagram(e,n,r,s){this.fpsContext.fillStyle="#069",this.fpsContext.fillRect(e,n,r,s),this.fpsContext.fillStyle="#0ff",this.fpsContext.font="bold 32px Helvetica,Arial,sans-serif",this.fpsContext.textBaseline="top",this.fpsContext.fillText(`FPS: ${this.fps} (${this.usage}%)`,e+1,n+1);const i=e+r-1,a=n+s;for(let o=0;o<this.fpsValues.length;o++){const m=(c.maxNumFpsValues+this.fpsIndex-o)%c.maxNumFpsValues,p=Math.round(Math.min(150,this.fpsValues[m]??0)/150*120);this.fpsContext.fillRect(i-o*2,a-p,2,p)}}onRenderStart(){this.renderStartTimestampMs=performance.now()}onRenderDone(){const e=performance.now(),n=e-this.renderEndTimestampMs,r=e-this.renderStartTimestampMs;this.renderEndTimestampMs=e,this.fpsValues[this.fpsIndex]=n>0?Math.round(1e3/n):0,this.useValues[this.fpsIndex]=r>0?Math.round(1e3/r):0,this.fpsIndex=(this.fpsIndex+1)%c.maxNumFpsValues,this.fps=Math.round(this.fpsValues.reduce((s,i)=>s+i,0)/this.fpsValues.length),this.usage=Math.round(r/n*100)}}c.intersectConsoleLogging();console.log("Rock Raiders Web v0.9-snapshot");E(()=>import("./app-5q4nVwHL.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(t=>t.start());export{c as D,I as H,S as a,v as b,M as c,T as d,A as e,L as f,w as g,O as i,N as y};
//# sourceMappingURL=index-DzKkgsi0.js.map
